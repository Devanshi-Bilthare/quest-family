(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1396:function(t,e,r){"use strict";r.d(e,"b",(function(){return h})),r.d(e,"a",(function(){return m}));r(15),r(12),r(13),r(6),r(18),r(14),r(20);var n=r(4),o=r(7),c=(r(44),r(27));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function h(t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=0,n={per_page:30,start_date:Date.now()-c.r*c.n},t.prev=2,t.next=5,e.$stylesRepository.index(n);case 5:o=t.sent,l=o.total,r=l,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}function m(t){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,n=e.store,o=e.params,c=[],l=d(d({},o),{},{keyType:"current styles"}),t.next=5,n.dispatch("cache/get",{key:l});case 5:if(!(h=t.sent)){t.next=10;break}c=h,t.next=20;break;case 10:return t.prev=10,t.next=13,r.$illustrationsStylesRepository.index(o);case 13:c=t.sent,n.dispatch("cache/set",{key:l,value:c}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(10),console.log("cannot get current styles");case 20:return t.abrupt("return",c);case 21:case"end":return t.stop()}}),t,null,[[10,17]])})))).apply(this,arguments)}},1397:function(t,e,r){"use strict";r.d(e,"a",(function(){return h})),r.d(e,"c",(function(){return m})),r.d(e,"b",(function(){return v}));r(15),r(12),r(13),r(6),r(18),r(14),r(20);var n=r(4),o=r(7),c=(r(40),r(44),r(46));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function h(t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.app,c=e.store,l=null===(r=o.i18n||o.$i18n)||void 0===r||null===(n=r.localeProperties)||void 0===n?void 0:n.iso,t.prev=2,t.next=5,o.$categoriesRepository.index({locale:l});case 5:d=t.sent,h=d.categories,c.dispatch("setCategories",h),c.dispatch("setCurrentCategories",h),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.warn("cannot get categories");case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))).apply(this,arguments)}function m(t){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,h,f,m,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.app,c=e.store,l=null===(r=o.i18n||o.$i18n)||void 0===r||null===(n=r.localeProperties)||void 0===n?void 0:n.iso,21,h={page:1,per_page:21,random_previews_count:1,locale:l},f=[],t.prev=5,t.next=8,c.dispatch("cache/get",{key:d(d({},h),{},{keyType:"categories-previews-trending"})});case 8:if(!(y=t.sent)){t.next=13;break}f=y,t.next=17;break;case 13:return t.next=15,o.$categoriesPreviewsRepository.index(h);case 15:f=t.sent,c.dispatch("cache/set",{key:d(d({},h),{},{keyType:"categories-previews-trending"}),value:f});case 17:return t.abrupt("return",((null===(m=f)||void 0===m?void 0:m.categories)||[]).map((function(t){return{icon:"",prettyId:t.pretty_id,cover:t.random_previews[0],title:t.title}})));case 20:return t.prev=20,t.t0=t.catch(5),console.error(t.t0),t.abrupt("return",[]);case 24:case"end":return t.stop()}}),t,null,[[5,20]])})))).apply(this,arguments)}function v(t){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(regeneratorRuntime.mark((function t(e){var r,n,o,l,h,f,m,y,v,O,x,_,T,j,w,S,P,k,E,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=e.app,h=e.store,f=e.currentCategoryPath,m=e.stylePrettyId,y=e.subjectPrettyId,v=e.formattedParams,O=h.state.categories.all,x=null===(r=l.i18n||l.$i18n)||void 0===r||null===(n=r.localeProperties)||void 0===n?void 0:n.iso,_=Object(c.g)({category:(null==f?void 0:f[0])||(null===(o=Object(c.e)(y,O))||void 0===o?void 0:o[0]),locale:x,style:m,subjectPrettyId:y}),T=_.categoryParams,j=_.hasCategory,w=[],j&&h.dispatch("setCurrentCategory",f),t.prev=6,k=d(d({},v),T),y&&(delete k.category_pretty_ids,delete k.parent_id),E=d(d({},k),{},{keyType:"current categories"}),t.next=12,h.dispatch("cache/get",{key:E});case 12:if(!(C=t.sent)){t.next=17;break}P=C,t.next=26;break;case 17:if(!j||null!=T&&T.parent_id){t.next=21;break}t.t0={categories:[]},t.next=24;break;case 21:return t.next=23,l.$categoriesRepository.index(k);case 23:t.t0=t.sent;case 24:P=t.t0,h.dispatch("cache/set",{key:E,value:P});case 26:w=(null===(S=P)||void 0===S?void 0:S.categories)||[],t.next=32;break;case 29:t.prev=29,t.t1=t.catch(6),console.error("cannot get categories");case 32:return h.dispatch("setCurrentCategories",w),t.abrupt("return",{hasCategory:j});case 34:case"end":return t.stop()}}),t,null,[[6,29]])})))).apply(this,arguments)}},1435:function(t,e,r){var content=r(1524);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(11).default)("a86b4f30",content,!0,{sourceMap:!1})},1436:function(t,e,r){var content=r(1526);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(11).default)("3da82289",content,!0,{sourceMap:!1})},1437:function(t,e,r){var content=r(1528);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(11).default)("b4f5f84c",content,!0,{sourceMap:!1})},1438:function(t,e,r){var content=r(1530);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(11).default)("405b4381",content,!0,{sourceMap:!1})},1439:function(t,e,r){var content=r(1545);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(11).default)("73bf25c0",content,!0,{sourceMap:!1})},1523:function(t,e,r){"use strict";r(1435)},1524:function(t,e,r){var n=r(10)((function(i){return i[1]}));n.push([t.i,".ouch-applied-filters-as-tags[data-v-4f70f45e]{display:flex;margin-bottom:26px;margin-top:-8px}.ouch-applied-filters-as-tags.is-empty[data-v-4f70f45e]{display:none}@media(min-width:768px){.ouch-applied-filters-as-tags[data-v-4f70f45e]:not(.is-mobile){max-width:100vw;overflow-x:scroll}.ouch-applied-filters-as-tags[data-v-4f70f45e]:not(.is-mobile)::-webkit-scrollbar-track{background-color:#fff;border-radius:6px}.ouch-applied-filters-as-tags[data-v-4f70f45e]:not(.is-mobile)::-webkit-scrollbar{background-color:#f7f7f7;height:6px;width:3px}.ouch-applied-filters-as-tags[data-v-4f70f45e]:not(.is-mobile)::-webkit-scrollbar-thumb{background-color:#c8c8c8;border-radius:10px;cursor:pointer;margin-right:2px}}@media(min-width:980px){.ouch-applied-filters-as-tags[data-v-4f70f45e]:not(.is-mobile){max-width:calc(100vw - 306px)}}@media(max-width:768px){.ouch-applied-filters-as-tags[data-v-4f70f45e]{margin-left:-32px;padding-left:32px;padding-right:32px}}@media(max-width:576px){.ouch-applied-filters-as-tags[data-v-4f70f45e]{margin-left:-20px;padding-left:20px;padding-right:20px}}.ouch-applied-filters-as-tags.is-mobile[data-v-4f70f45e]{margin-left:-20px;overflow-x:scroll;padding-left:20px;padding-right:20px;width:100vw}.ouch-applied-filters-as-tags.is-mobile[data-v-4f70f45e]::-webkit-scrollbar{display:none}.ouch-applied-filters-as-tags__close[data-v-4f70f45e]{cursor:pointer;height:16px;position:absolute;right:8px;top:4px;width:16px}.ouch-applied-filters-as-tags__tag[data-v-4f70f45e]{border:1px solid rgba(0,0,0,.08);border-radius:100px;color:#1a1a1a;font-size:12px;line-height:16px;min-height:25px;min-width:53px;padding:4px 28px 4px 8px;position:relative;white-space:nowrap}.ouch-applied-filters-as-tags__tag[data-v-4f70f45e]:not(:last-child){margin-right:8px}.ouch-applied-filters-as-tags__tag--removing[data-v-4f70f45e]{background:rgba(0,0,0,.08);cursor:pointer;padding-right:8px}",""]),n.locals={},t.exports=n},1525:function(t,e,r){"use strict";r(1436)},1526:function(t,e,r){var n=r(10)((function(i){return i[1]}));n.push([t.i,".ouch-seo-footer[data-v-251ba4dc]{background:rgba(0,0,0,.03);border:1px solid rgba(0,0,0,.03);border-radius:8px;margin-top:32px;padding:32px 32px 24px}@media(max-width:980px){.ouch-seo-footer[data-v-251ba4dc]{display:none}}.ouch-seo-footer__description[data-v-251ba4dc]{margin-bottom:16px;max-width:620px;width:100%}.ouch-seo-footer__placeholder[data-v-251ba4dc]{animation:pulse 1.5s infinite;display:inline-flex;height:32px;line-height:32px;margin:0 10px 10px 0;min-width:84px;overflow:hidden;padding:0;width:84px}.ouch-seo-footer__placeholder[data-v-251ba4dc],.ouch-seo-footer__tag[data-v-251ba4dc]{border:1px solid rgba(0,0,0,.08);border-radius:100px;transition:all .2s ease-out}.ouch-seo-footer__tag[data-v-251ba4dc]{color:#1a1a1a;cursor:pointer;display:inline-block;font-size:14px;font-weight:400;letter-spacing:-.084px;line-height:20px;margin-bottom:8px;padding:6px 12px}.ouch-seo-footer__tag[data-v-251ba4dc]:not(:last-child){margin-right:8px}.ouch-seo-footer__tag.loading[data-v-251ba4dc]{animation:pulse 1.5s infinite;color:transparent;pointer-events:none;transition:all .2s ease-out}.ouch-seo-footer__title[data-v-251ba4dc]{font-size:14px;font-weight:700;letter-spacing:-.07px;line-height:20px;margin-bottom:16px}",""]),n.locals={},t.exports=n},1527:function(t,e,r){"use strict";r(1437)},1528:function(t,e,r){var n=r(10)((function(i){return i[1]}));n.push([t.i,".seo-tags-mobile[data-v-3b242b1c]{display:none;flex-wrap:wrap;margin:-16px -32px 20px;max-height:20px;max-width:calc(100% + 64px);overflow-x:scroll;padding-left:32px;padding-right:32px;position:relative;white-space:nowrap}@media(max-width:768px){.seo-tags-mobile[data-v-3b242b1c]{display:flex}.seo-tags-mobile[data-v-3b242b1c]::-webkit-scrollbar{display:none}}@media(max-width:576px){.seo-tags-mobile[data-v-3b242b1c]{margin-left:-20px;margin-right:-20px;max-width:calc(100% + 40px);padding-left:20px;padding-right:20px}}.seo-tags-mobile__content[data-v-3b242b1c]{display:flex}.seo-tags-mobile__loading[data-v-3b242b1c]{display:flex;flex-wrap:nowrap;margin-top:16px;min-height:24px}.seo-tags-mobile__tag[data-v-3b242b1c]{color:rgba(0,0,0,.4)}.seo-tags-mobile__tag[data-v-3b242b1c]:not(:last-child){margin-right:16px}.seo-tags-mobile__tag--hidden[data-v-3b242b1c]{margin:0!important;overflow:hidden;width:0}.seo-tags-mobile__tag--loading[data-v-3b242b1c]{animation:pulse 1.5s infinite;color:transparent;pointer-events:none;transition:all .2s ease-out}.seo-tags-mobile__tag--remained[data-v-3b242b1c]{color:rgba(0,0,0,.4)}",""]),n.locals={},t.exports=n},1529:function(t,e,r){"use strict";r(1438)},1530:function(t,e,r){var n=r(10)((function(i){return i[1]}));n.push([t.i,".request-illustration-message[data-v-0efed42c]{border-bottom:1px solid rgba(0,0,0,.08);padding-bottom:32px;position:relative}@media(max-width:480px){.request-illustration-message[data-v-0efed42c]{margin-bottom:24px;padding-bottom:24px}}.request-illustration-message.has-results[data-v-0efed42c]{border-top:1px solid rgba(0,0,0,.08);margin-bottom:0;margin-top:32px;padding:32px 0}@media(max-width:480px){.request-illustration-message.has-results[data-v-0efed42c]{padding:24px 0}}.request-illustration-message__description[data-v-0efed42c]{margin-bottom:16px}@media(max-width:650px){.request-illustration-message__description[data-v-0efed42c]{max-width:100%}}.request-illustration-message__icon[data-v-0efed42c]{align-self:flex-start;height:24px;margin-right:8px;min-width:24px;width:24px}.request-illustration-message__title[data-v-0efed42c]{align-items:center;display:flex;font-size:18px;font-weight:700;letter-spacing:-.09px;line-height:24px;margin-bottom:16px}",""]),n.locals={},t.exports=n},1544:function(t,e,r){"use strict";r(1439)},1545:function(t,e,r){var n=r(10)((function(i){return i[1]}));n.push([t.i,".illustrations-page[data-v-036b6ae2]{overflow:hidden}@media(max-width:768px){.illustrations-page[data-v-036b6ae2]{margin-top:-5px;padding-top:5px}}.illustrations-page--allow-overflow[data-v-036b6ae2]{overflow:visible;overflow:initial}@media(max-width:320px){.illustrations-page[data-v-036b6ae2]{margin-top:24px}}.illustrations-page .content[data-v-036b6ae2]{margin-top:24px;padding-bottom:32px}@media(max-width:768px){.illustrations-page .content[data-v-036b6ae2]{margin-top:0}}aside[data-v-036b6ae2]{margin-right:32px;min-width:200px;width:200px}@media(max-width:768px){aside[data-v-036b6ae2]{display:flex;justify-content:space-between;max-width:100%;width:100%}aside .styles-dropdown[data-v-036b6ae2]{margin-right:16px}}main[data-v-036b6ae2]{height:-moz-fit-content;height:fit-content;width:100%}main.full-width[data-v-036b6ae2]{max-width:100%}main>div[data-v-036b6ae2]:last-child{border-bottom-width:0}main .illustration-list[data-v-036b6ae2]{width:100%}main .illustration-list .pagination[data-v-036b6ae2]{margin-top:0}main .ouch-loader[data-v-036b6ae2]{margin:56px auto}main .ouch-loader.no-space-bottom[data-v-036b6ae2]{margin-bottom:0}main .ouch-search[data-v-036b6ae2]{margin-bottom:32px}",""]),n.locals={},t.exports=n},1608:function(t,e,r){"use strict";r.r(e);r(12),r(18),r(20);var n=r(9),o=r(4),c=r(7),l=(r(44),r(21),r(52),r(69),r(40),r(15),r(106),r(74),r(73),r(6),r(36),r(43),r(17),r(13),r(14),r(25)),d=(r(30),r(46)),h=r(27),f=r(381);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"OuchAppliedFiltersAsTags",mixins:[r(104).a],props:{events:{type:Array,default:function(){return[]}}},data:function(){return{isMobile:!1}},computed:y(y({},Object(l.e)({categories:function(t){return t.categories.all},loading:function(t){return t.filters.loading},styles:function(t){return t.styles.current}})),{},{filtersClasses:function(){return{"filters-disabled":this.loading,"is-mobile":this.isMobile,"is-empty":!this.tags.length}},tags:function(){var t=this,e=[],r=["image"];return Object(d.p)(this.path||this.$route.fullPath).filter((function(t){return!r.includes(t.key)})).forEach((function(p){var r,n,o,title="",meta=t.allFilters.find((function(t){return t.pretty_id===p.key}));if(meta){var c=meta.values.find((function(t){return t.pretty_id===p.value}));c&&(title=c.title)}switch(p.key){case"style":title="In style ".concat(t.getStyleTitle(p.value));break;case"type":case"subjects":title=t.$t("OUCH_V2.FILTERS.SUBJECTS.".concat(p.value.toUpperCase()));break;case"animated":case"free":title=t.$t("OUCH.SUBJECTS.".concat(p.key.toUpperCase()));break;case"category":title=(null===(r=Object(d.e)(p.value,t.categories))||void 0===r||null===(n=r[0])||void 0===n?void 0:n.title)||p.value;break;case"event":title=(null===(o=t.events.find((function(t){return t.prettyId===p.value})))||void 0===o?void 0:o.title)||""}e.push({type:p.key,title:title,param:p.value})})),e.filter((function(t){return t.title}))}}),created:function(){this.isMobile=Object(f.a)()},methods:{getStyleTitle:function(t){try{var style=this.styles.find((function(s){return s.pretty_id===t}));return null!=style&&style.title?style.title:t.split("-").map((function(t){return Object(d.a)(t)})).join(" ").replace(h.B,h.B.toUpperCase())}catch(t){return""}},onRemoveAllTags:function(){this.$store.commit("filters/RESET_SELECTED_FILTER");var t=this.$route.fullPath.split("/").filter((function(p){return!h.f.some((function(t){return p.includes("".concat(t,"--"))}))})).join("/");this.$emit("change-path",t),this.beforeNextRoute(t)},onTagClick:function(t){var e=Object(d.q)(this.path||this.$route.fullPath,t.type).filter((function(e){return e!==t.param})).join(",");this.handleFiltersChange({id:e||null,entity:t.type,path:this.path})}}},O=(r(1523),r(3)),x=Object(O.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ouch-applied-filters-as-tags",class:t.filtersClasses},[t._l(t.tags,(function(r,n){return e("div",{key:n,staticClass:"ouch-applied-filters-as-tags__tag normal"},[t._v(t._s(r.title)),e("div",{staticClass:"ouch-applied-filters-as-tags__close",domProps:{innerHTML:t._s(t.$icons["tags/close"])},on:{click:function(e){return t.onTagClick(r)}}})])})),t.tags.length>1?e("div",{staticClass:"ouch-applied-filters-as-tags__tag ouch-applied-filters-as-tags__tag--removing normal",on:{click:t.onRemoveAllTags}},[t._v(t._s(t.$t("OUCH_V2.FILTERS.ACTIONS.REMOVE_ALL")))]):t._e()],2)}),[],!1,null,"4f70f45e",null).exports,_=r(674);r(47),r(29);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function j(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={name:"OuchSeoFooter",props:{seoTags:{type:Array,default:function(){return[]}},search:{type:String,default:""},styles:{type:Object,default:function(){}},total:{type:Number,default:0}},computed:j(j({},Object(l.e)({currentTag:function(t){return t.currentTag},componentsTotal:function(t){return t.filters.totals.types.components}})),{},{image:function(){var t;return null===(t=Object(d.q)(this.$route.fullPath,"image"))||void 0===t?void 0:t[0]},seoDescription:function(){return this.$t("OUCH_V2.SEO.SEO_BLOCK_ON_PAGE.DESCRIPTION",{search:this.search})},seoTitle:function(){var t,e="".concat(this.search.charAt(0).toUpperCase()).concat(this.search.slice(1)),r=this.componentsTotal>0,n=this.styles&&!this.search?"_AND_STYLE":"",o="OUCH_V2.SEO.SEO_BLOCK_ON_PAGE.TITLE".concat(r?"":"_SHORT").concat(n);return this.$t(o,{search:e,count:this.total,style:null===(t=this.styles)||void 0===t?void 0:t.title})}}),methods:{setLoadingState:function(t){var e;(null===(e=this.currentTag)||void 0===e?void 0:e.pretty_id)!==t.pretty_id&&(this.$store.commit("SET_LOADING_STATE",!0),this.$store.commit("filters/SET_LOADING_STATE",!0))},tagLink:function(t){var image=this.image?"/image--".concat(this.image):"";return"/illustrations/t/".concat(t.pretty_id).concat(image)},tagTitle:function(t){return Object(d.a)(t.title)}}},S=(r(1525),Object(O.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ouch-seo-footer container"},[e("div",{staticClass:"ouch-seo-footer__content"},[e("h2",{staticClass:"ouch-seo-footer__title bold"},[t._v(t._s(t.seoTitle))]),e("div",{staticClass:"ouch-seo-footer__description"},[t._v(t._s(t.seoDescription))]),e("div",{staticClass:"ouch-seo-footer__tags"},[t.seoTags&&t.seoTags.length?t._l(t.seoTags,(function(r,n){return e("nuxt-link",{key:n,ref:"tag_"+n,refInFor:!0,staticClass:"ouch-seo-footer__tag",attrs:{to:t.tagLink(r)},nativeOn:{click:function(e){return t.setLoadingState(r)}}},[t._v(t._s(t.tagTitle(r)))])})):t._l(8,(function(i){return e("div",{key:i,staticClass:"ouch-seo-footer__placeholder"})}))],2)])])}),[],!1,null,"251ba4dc",null).exports),P=r(80),k=r.n(P);function E(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var I={name:"OuchSeoTagsMobile",props:{seoTags:{type:Array,default:function(){return[]}}},data:function(){return{visibleTagsCount:1,containerWidth:0}},watch:{seoTags:function(t){var e=this;this.visibleTagsCount=(null==t?void 0:t.length)||0,this.$nextTick((function(){e.calcContainerWidth(),e.showTags()}))}},computed:C(C({},Object(l.e)({currentTag:function(t){return t.currentTag}})),{},{remainingTags:function(){return(this.seoTags||[]).slice(this.visibleTagsCount)},visibleTags:function(){return(this.seoTags||[]).slice(0,this.visibleTagsCount)}}),mounted:function(){var t=this,e=this;this.$nextTick((function(){t.calcContainerWidth()}));var r=k.a.debounce((function(){e.visibleTagsCount=e.seoTags.length,e.calcContainerWidth(),e.$nextTick((function(){e.showTags()}))}),300);window.addEventListener("resize",r),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",r)}))},methods:{calcContainerWidth:function(){var t=document.querySelector("main");t&&(this.containerWidth=t.offsetWidth-(window.innwerWidth>576?64:40))},tagLink:function(t){return"/illustrations/t/".concat(t.pretty_id)},setLoadingState:function(t){var e;(null===(e=this.currentTag)||void 0===e?void 0:e.pretty_id)!==t.pretty_id&&(this.forceTitle=t,this.$store.commit("SET_LOADING_STATE",!0),this.$store.commit("filters/SET_LOADING_STATE",!0))},showTags:function(){for(var t=0,i=0;i<(this.seoTags||[]).length;i++){var e,r,n,o=(null===(e=this.$refs["tag_"+i])||void 0===e||null===(r=e[0])||void 0===r||null===(n=r.$el)||void 0===n?void 0:n.offsetWidth)||0;t+25+o+16<this.containerWidth&&(t+=o+16,this.visibleTagsCount=i+1)}}}},R=(r(1527),Object(O.a)(I,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"seo-tags-mobile"},[t.seoTags?t._e():e("div",{staticClass:"seo-tags-mobile__loading"},t._l(8,(function(t){return e("div",{key:t,staticClass:"seo-tags-mobile__tag seo-tags-mobile__tag--loading"})})),0),t.seoTags&&t.seoTags.length?e("div",{staticClass:"seo-tags-mobile__content"},[t._l(t.seoTags,(function(r,n){return e("nuxt-link",{key:n,ref:"tag_"+n,refInFor:!0,staticClass:"seo-tags-mobile__tag",class:{"seo-tags-mobile__tag--hidden":n>t.visibleTagsCount},attrs:{to:t.tagLink(r)},nativeOn:{click:function(e){return t.setLoadingState(r)}}},[t._v(t._s(r.title))])})),t.visibleTagsCount<(t.seoTags||[]).length?e("div",{staticClass:"seo-tags-mobile__tag seo-tags-mobile__tag--remained",on:{click:function(e){t.visibleTagsCount=t.seoTags.length}}},[t._v("+"+t._s(t.remainingTags.length))]):t._e()],2):t._e()])}),[],!1,null,"3b242b1c",null).exports),L=(r(45),{name:"RequestIllustrationMessage",props:{currentStyle:{type:Object,default:function(){}},hasResults:{type:Boolean,default:!1},search:{type:String,default:""}},computed:{currentUrlParams:function(){return Object(d.p)(this.$route.fullPath)||[]},currentStyleInUrl:function(){return this.currentUrlParams.find((function(t){return"style"===t.key}))},description:function(){var t;return this.hasResults||null!==(t=this.currentStyle)&&void 0!==t&&t.pretty_id?this.$t("OUCH_V2.MISSING_ILLUSTRATIONS.DESCRIPTION.TELL_US"):this.$t("OUCH_V2.MISSING_ILLUSTRATIONS.DESCRIPTION.CHECK")},messageClasses:function(){return{"has-results":this.hasResults}},title:function(){return this.hasResults?this.$t("OUCH_V2.MISSING_ILLUSTRATIONS.TITLE.HAS_RESULT"):this.currentUrlParams.length?this.currentStyleInUrl&&1===this.currentUrlParams.length?this.$t("OUCH_V2.MISSING_ILLUSTRATIONS.TITLE.NOT_FOUND",{search:this.search,style:this.getStyleTitle()}):this.$t("OUCH_V2.MISSING_ILLUSTRATIONS.TITLE.NO_MATCHING_SEARCH",{search:this.search}):this.$t("OUCH_V2.ILLUSTRATION_REQUEST.MESSAGE.NONE.TITLE",{search:this.search})}},methods:{getStyleTitle:function(){try{var t;return null!==(t=this.currentStyle)&&void 0!==t&&t.title?this.currentStyle.title:this.currentStyleInUrl.value.split("-").map((function(t){return Object(d.a)(t)})).join(" ").replace(h.B,h.B.toUpperCase())}catch(t){return""}}}}),$=(r(1529),Object(O.a)(L,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"request-illustration-message",class:t.messageClasses},[e("div",{staticClass:"request-illustration-message__wrapper"},[e("div",{staticClass:"request-illustration-message__title"},[e("div",{staticClass:"request-illustration-message__icon",domProps:{innerHTML:t._s(t.$icons["request/request-search"])}}),e("div",{staticClass:"request-illustration-message__text bold"},[t._v(t._s(t.title))])]),e("div",{staticClass:"request-illustration-message__description",domProps:{innerHTML:t._s(t.description)}}),e("div",{staticClass:"request-illustration-message__button"},[e("button",{staticClass:"button outlined",on:{click:function(e){return t.$router.push("/illustrations/request-illustration")}}},[t._v(t._s(t.$t("OUCH_V2.MISSING_ILLUSTRATIONS.REQUEST_ILLUSTRATION")))])])])])}),[],!1,null,"0efed42c",null).exports),A=r(148),D={data:function(){return{lastScroll:0,windowHeight:0}},methods:{onBodyScroll:function(t){var e=t.target.scrollingElement;if(!("html"!==(null==e?void 0:e.localName)||window.innerWidth<=h.a)){var r=e.scrollTop;this.$root.$emit("on scroll",{value:r,direction:r>this.lastScroll?"down":"up"}),this.lastScroll=r}}},mounted:function(){var t=this;document.addEventListener("scroll",this.onBodyScroll),this.$once("hook:beforeDestroy",(function(){document.removeEventListener("scroll",t.onBodyScroll)}))}},N=r(1531),U=r.n(N),F=r(147),M=r(1397),H=r(594),G=r(1396);function V(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function W(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?V(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):V(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function B(t){return z.apply(this,arguments)}function z(){return(z=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,f,m,y,v,O,x,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.app,c=e.store,l=e.formattedParams,f=e.error,t.prev=1,O=Object(d.k)({formattedParams:l,locale:null===(y=o.i18n||o.$i18n)||void 0===y||null===(v=y.localeProperties)||void 0===v?void 0:v.iso,perPage:h.j}),x=W(W({},O),{},{keyType:"illustrations"}),t.next=6,c.dispatch("cache/get",{key:x});case 6:if(!(_=t.sent)){t.next=11;break}m=W({},_),t.next=15;break;case 11:return t.next=13,o.$illustrationsRepository.index(O);case 13:m=t.sent,c.dispatch("cache/set",{key:x,value:m});case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),console.error(t.t0),f({statusCode:500,message:"Whoops, something went wrong..."});case 21:return t.abrupt("return",{illustrations:(null===(r=m)||void 0===r?void 0:r.illustrations)||[],total:(null===(n=m)||void 0===n?void 0:n.total)||0});case 22:case"end":return t.stop()}}),t,null,[[1,17]])})))).apply(this,arguments)}function J(t){return X.apply(this,arguments)}function X(){return(X=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,n=e.store,o=[],c={previews_count:h.c},t.prev=3,t.next=6,n.dispatch("cache/get",{key:W(W({},c),{},{keyType:"events-previews"})});case 6:if(!(l=t.sent)){t.next=11;break}d=l,t.next=15;break;case 11:return t.next=13,r.$eventsRepository.index(c);case 13:d=t.sent,n.dispatch("cache/set",{key:W(W({},c),{},{keyType:"events-previews"}),value:d});case 15:o=d.events.map((function(t){return{icon:"",isEvent:!0,prettyId:t.pretty_id,previews:t.previews||[],title:t.title,total:t.total}})),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(3),console.error(t.t0);case 21:return t.abrupt("return",o);case 22:case"end":return t.stop()}}),t,null,[[3,18]])})))).apply(this,arguments)}function K(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function Y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?K(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):K(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Q(t){return Z.apply(this,arguments)}function Z(){return(Z=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.app,!(c=e.store).state.filters.all.length){t.next=3;break}return t.abrupt("return");case 3:return l=null===(r=o.i18n||o.$i18n)||void 0===r||null===(n=r.localeProperties)||void 0===n?void 0:n.iso,d={keyType:"filters"},t.next=7,o.$filtersRepository.index({locale:l});case 7:if(t.t0=t.sent.filters,t.t0){t.next=10;break}t.t0=[];case 10:h=t.t0,c.commit("filters/SET_FILTERS",{filters:h,type:"all"}),c.dispatch("cache/set",{key:d,value:h});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t){return et.apply(this,arguments)}function et(){return(et=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,o,c,l,d,f,m,y,v,O,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.app,o=e.store,c=e.formattedParams,l=e.stylePrettyId,d=[],t.prev=2,f=o.state.filters.selected,!(m=h.z.filter((function(t){return!f.includes(t)})).join(","))){t.next=26;break}return m=m||h.z.join(","),c.key_pretty_ids=m||h.z.join(","),y=Y(Y({},c),{},{keyType:"filters"}),t.next=11,o.dispatch("cache/get",{key:y});case 11:if(!(v=t.sent)){t.next=16;break}d=v,t.next=24;break;case 16:if(l&&!o.state.filters.init.length){t.next=24;break}return t.next=19,r.$filtersRepository.index(Y(Y({},c),{},{locale:null===(O=r.i18n||r.$i18n)||void 0===O||null===(x=O.localeProperties)||void 0===x?void 0:x.iso}));case 19:if(t.t0=t.sent.filters,t.t0){t.next=22;break}t.t0=[];case 22:d=t.t0,o.dispatch("cache/set",{key:y,value:d});case 24:t.next=27;break;case 26:d=Object(n.a)(o.state.filters.current);case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(2),console.error(t.t1);case 32:return t.abrupt("return",d);case 33:case"end":return t.stop()}}),t,null,[[2,29]])})))).apply(this,arguments)}function at(t){return st.apply(this,arguments)}function st(){return(st=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,n=e.store,o=e.imageId,c=e.error,d={imageId:o,keyType:"search-image"},t.prev=2,t.next=5,n.dispatch("cache/get",{key:d});case 5:if(!(h=t.sent)){t.next=10;break}l=h,t.next=14;break;case 10:return t.next=12,r.$uploadRepository.show(o);case 12:l=t.sent,n.dispatch("cache/set",{key:d,value:l});case 14:n.commit("SET_SEARCH_IMAGE",l),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),console.error(t.t0),c({statusCode:500,message:"Whoops, something went wrong..."});case 21:return t.abrupt("return",l);case 22:case"end":return t.stop()}}),t,null,[[2,17]])})))).apply(this,arguments)}r(395);function nt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function it(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?nt(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):nt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function ot(){return(ot=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,h,f,m,y,v,O;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=e.app,h=e.store,f=e.formattedParams,t.prev=1,y=Object(d.c)(f,"type"),t.next=5,h.dispatch("cache/get",{key:it(it({},y),{},{keyType:"illustrations-count"})});case 5:if(!(v=t.sent)){t.next=10;break}m=v,t.next=14;break;case 10:return t.next=12,l.$illustrationsRepository.index(y,"count");case 12:m=t.sent,h.dispatch("cache/set",{key:it(it({},y),{},{keyType:"illustrations-count"}),value:m});case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),console.log(t.t0),console.log("getting illustrations counts failed");case 20:O=Object.values(h.state.filters.totals.types).reduce((function(t,e){return t+e}),0),h.commit("filters/SET_FILTER_EXISTENCE",{value:O>0,key:"graphicTypes"}),h.commit("filters/SET_TOTALS",{type:"types",key:"illustrations",value:(null===(r=m)||void 0===r?void 0:r.total_illustrations)||0}),h.commit("filters/SET_TOTALS",{type:"types",key:"collages",value:(null===(n=m)||void 0===n?void 0:n.total_collages)||0}),h.commit("filters/SET_TOTALS",{type:"types",key:"components",value:(null===(o=m)||void 0===o?void 0:o.total_components)||0}),h.commit("filters/SET_FILTER_EXISTENCE",{value:!!h.state.filters.totals.free,key:"free"}),h.commit("filters/SET_TOTALS",{key:"free",value:(null===(c=m)||void 0===c?void 0:c.total_free)||0});case 27:case"end":return t.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}function ct(){return(ct=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,h,f,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.app,c=e.store,l=e.formattedParams,t.prev=1,f=Object(d.c)(l,"animated"),t.next=5,c.dispatch("cache/get",{key:it(it({},f),{},{keyType:"count-animated"})});case 5:if(!(m=t.sent)){t.next=10;break}h=m,t.next=14;break;case 10:return t.next=12,o.$illustrationsRepository.index(f,"count/animated");case 12:h=t.sent,c.dispatch("cache/set",{key:it(it({},f),{},{keyType:"count-animated"}),value:h});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.log("getting animation counts failed");case 19:c.commit("filters/SET_FILTER_EXISTENCE",{value:!!c.state.filters.totals.animated.animated,key:"animated"}),c.commit("filters/SET_TOTALS",{type:"animated",key:"animated",value:(null===(r=h)||void 0===r?void 0:r.total_animated)||0}),c.commit("filters/SET_TOTALS",{type:"animated",key:"static",value:(null===(n=h)||void 0===n?void 0:n.total_statics)||0});case 22:case"end":return t.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}function lt(){return(lt=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o,c,l,h,f,m,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.app,c=e.store,l=e.formattedParams,t.prev=1,f=Object(d.c)(l,"subjects"),t.next=5,c.dispatch("cache/get",{key:it(it({},f),{},{keyType:"subjects-count"})});case 5:if(!(m=t.sent)){t.next=10;break}h=m,t.next=14;break;case 10:return t.next=12,o.$illustrationsRepository.index(f,"count/subjects");case 12:h=t.sent,c.dispatch("cache/set",{key:it(it({},f),{},{keyType:"subjects-count"}),value:h});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.log("getting subjects counts failed");case 19:y=Object.values(c.state.filters.totals.subjects).reduce((function(t,e){return t+e}),0),c.commit("filters/SET_FILTER_EXISTENCE",{value:y>0,key:"subjects"}),c.commit("filters/SET_TOTALS",{type:"subjects",key:"characters",value:(null===(r=h)||void 0===r?void 0:r.total_characters)||0}),c.commit("filters/SET_TOTALS",{type:"subjects",key:"objects",value:(null===(n=h)||void 0===n?void 0:n.total_objects)||0}),c.commit("filters/SET_FILTER_EXISTENCE",{value:y>0,key:"subjects"});case 24:case"end":return t.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}function ut(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function pt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ut(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):ut(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var ht={name:"IllustrationsPage",components:{OuchAppliedFiltersAsTags:x,OuchFilters:_.a,OuchSeoFooter:S,OuchSeoTagsOnMobile:R,RequestIllustrationMessage:$},mixins:[A.a,D],layout:"content",asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,f,m,y,v,O,x,_,T,j,w,S,P,k,E,C,I,R,L,$,A,D,N,F,V,W,z,J,path,X,K,Y,Q,Z,tt,et,st,nt,it,ot,ct,lt;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.params,l=t.app,f=t.store,m=t.error,y=t.redirect,v=t.route,t.res,O=l.i18n.localeProperties.iso,x=v.fullPath.replace("/illustrations/","").replace(/\s+/g,"-").toLowerCase(),f.commit("SET_ACTIVE_SEARCH",null),f.dispatch("setInitSearch",void 0),f.dispatch("setCurrentCategory",null),f.dispatch("setCurrentTag",null),f.state.categories.all.length){e.next=10;break}return e.next=10,Object(M.a)({app:l,store:f});case 10:if(_=Object(d.j)(x.split("/"),f.state.categories.all),T=Object(d.h)(_,f,O),j=T.animated,w=T.colors,S=T.currentCategoryPath,P=T.filterType,k=T.firstCategory,E=T.formattedParams,C=T.free,I=T.illustrationType,R=T.imageId,T.isBot,L=T.isTagPage,$=T.mood,A=T.subjects,D=T.stylePrettyId,N=T.subjectPrettyId,F=T.technique,V=function(t){return Object(d.m)({animated:j,colors:w,free:C,imageId:R,illustrationType:I,mood:$,subjects:A,start:t,stylePrettyId:D,subjectPrettyId:N,technique:F})},W=(null==S?void 0:S[0])||(null===(r=Object(d.e)(N,f.state.categories.all))||void 0===r?void 0:r[0]),!(z=!(null==W||!W.pretty_id||N))){e.next=20;break}if(J=S.map((function(t){return t.pretty_id})).reverse().join("/"),path=V(J),c.pathMatch===path){e.next=20;break}return e.abrupt("return",y(301,"/illustrations/".concat(path)));case 20:if(X=null,S.length){e.next=33;break}if(K=x.split("/"),!(x=Object(d.n)({slugArray:K,isTagPage:L}))){e.next=28;break}return e.next=27,Object(H.a)({app:l,store:f,slug:x});case 27:X=e.sent;case 28:if(!X){e.next=33;break}if(L&&f.dispatch("setInitSearch",X.title),Y=V("t/".concat(X.pretty_id)),c.pathMatch===Y||f.state.path==="/illustrations/".concat(Y)){e.next=33;break}return e.abrupt("return",y(301,"/illustrations/".concat(Y)));case 33:if(Object.keys(E).length){e.next=37;break}return f.commit("HREFLANG_DELETE"),m({statusCode:404,message:"Wrong params"}),e.abrupt("return");case 37:if(Q=R?f.state.searchImage:null,!R||(null===(n=Q)||void 0===n?void 0:n.id)===R){e.next=43;break}return e.next=42,at({app:l,store:f,imageId:R,error:m});case 42:Q=e.sent;case 43:if(L||z||!x){e.next=52;break}if(Z=x.trim(),tt=/^\d+$/.test(Z),x=tt?Z:U()(x,{custom:["/"],lang:O.split("-")[0]}),x=Object(d.s)(x),et=V(x),c.pathMatch===et||f.state.path==="/illustrations/".concat(et)){e.next=51;break}return e.abrupt("return",y(301,"/illustrations/".concat(et)));case 51:f.dispatch("setInitSearch",(null==E?void 0:E.search)||"");case 52:if(st=Object(d.c)(E,"style_pretty_ids"),nt=[],!Object.keys(st).length){e.next=58;break}return e.next=57,Object(G.a)({app:l,store:f,params:pt({locale:O},st)});case 57:nt=e.sent;case 58:return f.dispatch("setCurrentStyles",nt),f.commit("filters/SET_FILTER_EXISTENCE",{value:!!nt.length,key:"styles"}),it=nt.find((function(s){return s.pretty_id===D})),f.dispatch("setCurrentStyle",it),L||f.dispatch("setInitSearch",(null==E?void 0:E.search)||""),e.next=65,B({app:l,store:f,formattedParams:E,error:m});case 65:return ot=e.sent,ct=ot.illustrations,lt=ot.total,f.dispatch("updateSEO",Object(d.l)({filterType:P,firstCategory:k,formattedParams:E,i18n:l.i18n,illustrations:ct,tag:(null===(o=X)||void 0===o?void 0:o.title)||"",store:f,stylePrettyId:D})),ct.length||f.commit("HREFLANG_DELETE"),e.abrupt("return",{currentCategoryPath:S,filterType:P,formattedParams:E,illustrations:ct,image:Q,locale:O,showRelatedIllustrations:ct.length<h.s&&!!D,search:"",subject:k,total:lt,stylePrettyId:D,subjectPrettyId:N});case 71:case"end":return e.stop()}}),e)})))()},data:function(){return{commonPath:"",currentCategoryPath:[],events:[],filterType:"",formattedParams:null,illustrations:[],illustration_type:"illustrations",image:null,loading:!1,perPage:h.j,shouldUpdateFilterPosition:0,showRelatedIllustrations:!1,search:null,seoTags:[],subject:null,subjectPrettyId:null,total:0}},computed:pt(pt({},Object(l.e)({activeSearch:function(t){return t.activeSearch},allFilters:function(t){return t.filters.all},categories:function(t){return t.categories.all},currentFilters:function(t){return t.filters.current},currentCategories:function(t){return t.categories.current},currentSearch:function(t){return t.search.current},currentStyle:function(t){return t.styles.activeStyle},filters:function(t){return t.filters.init},initSearch:function(t){return t.search.init},searchResultsLoading:function(t){return t.loading}})),{},{hasPagination:function(){return this.page*this.perPage<this.total||this.nextPageLoading},isExperimentalStyle:function(){return this.$route.fullPath.includes("style--experimental")},isTagPage:function(){return this.$route.fullPath.includes("/t/")},searched:function(){var t,e;return this.search||(null===(t=this.formattedParams)||void 0===t?void 0:t.search)||(null===(e=this.searchTitle)||void 0===e?void 0:e.toLowerCase())},searchTitle:function(){var t,e,r=["Free vectors"].includes(this.title)?"":this.title,n="style"===this.filterType?"":r;return(null===(t=this.currentCategoryPath)||void 0===t||null===(e=t[0])||void 0===e?void 0:e.title)||n},seoTitle:function(){var title="Free vectors";if(!this.formattedParams)return title;switch(this.filterType){case"category":title="".concat(this.subject.title," ").concat(this.$t("OUCH_V2.VECTOR_ILLUSTRATIONS"));break;case"search":title=this.initSearch?this.initSearch.replace(/%20/g," "):"".concat(this.formattedParams.search?this.formattedParams.search.replace(/-/g," "):"");break;case"style":this.currentStyle&&(title=this.$t("OUCH_V2.SEO_HEADER.STYLE_TITLE",{style:this.currentStyle.title}))}return title},showCrossSearch:function(){return!this.currentStyle&&(this.illustrations.length>=this.total&&this.total>0||!this.illustrations.length)}}),watch:{illustrations:function(){this.shouldUpdateFilterPosition++}},created:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.b)({app:t,store:t.$store,currentCategoryPath:t.currentCategoryPath,stylePrettyId:t.stylePrettyId,subjectPrettyId:t.subjectPrettyId,formattedParams:t.formattedParams});case 2:return t.getFilters(),e.next=5,J({app:t,store:t.$store});case 5:t.events=e.sent,t.getCounts();case 7:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("SET_PATH",t.$route.path),t.$store.commit("SET_LOADING_STATE",!1),t.$store.commit("filters/SET_LOADING_STATE",!1),t.replaceUrls(),e.next=6,Object(H.b)({app:t,store:t.$store,formattedParams:t.formattedParams});case 6:t.seoTags=e.sent,t.sendGoogleAnalytics(),null!==(r=t.formattedParams)&&void 0!==r&&r.search&&!t.isTagPage&&t.$store.commit("HREFLANG_DELETE");case 9:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.searchResultsLoading||(this.$store.dispatch("flush"),this.$store.dispatch("filters/flush")),this.$store.commit("SET_LOADING_STATE",!1),this.$store.commit("filters/SET_LOADING_STATE",!1)},methods:{fetch:function(){var t={locale:this.locale},e=this.getPayload();this.nextPage("illustrations",Object.assign(t,e))},getCounts:function(){!function(t){ot.apply(this,arguments)}({app:this,store:this.$store,formattedParams:this.formattedParams}),function(t){ct.apply(this,arguments)}({app:this,store:this.$store,formattedParams:this.formattedParams}),function(t){lt.apply(this,arguments)}({app:this,store:this.$store,formattedParams:this.formattedParams})},getFilters:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,meta,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q({app:t,store:t.$store});case 2:return e.next=4,tt({app:t,store:t.$store,formattedParams:t.formattedParams,stylePrettyId:t.stylePrettyId});case 4:if(r=e.sent,o=[].concat(Object(n.a)(t.$store.state.filters.current.filter((function(a){return!(r||[]).some((function(b){return b.pretty_id===a.pretty_id}))}))),Object(n.a)(r||[])),t.$store.commit("filters/SET_FILTERS",{filters:Object(n.a)(o),type:"current"}),!(c=t.$store.state.filters.forceToUpdateFilterKeys).length){e.next=28;break}return e.prev=9,l=pt({},t.formattedParams),meta=JSON.parse(l.meta||"{}"),c.forEach((function(t){delete meta[t]})),delete l.meta,(l=pt(pt({},l),{},{meta:JSON.stringify(meta)})).key_pretty_ids=c.join(","),e.next=18,t.$filtersRepository.index(pt(pt({},l),{},{locale:t.locale}));case 18:if(e.t0=e.sent.filters,e.t0){e.next=21;break}e.t0=[];case 21:r=e.t0,t.$store.commit("filters/RESET_FORCE_KEYS"),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(9),console.error("cannot update special filter keys");case 28:o=[].concat(Object(n.a)(t.$store.state.filters.current.filter((function(a){return!(r||[]).some((function(b){return b.pretty_id===a.pretty_id}))}))),Object(n.a)(r||[])),t.$store.commit("filters/SET_FILTERS",{filters:Object(n.a)(o),type:"current"}),d=Object(F.a)(o,t.$store.state.filters.init),t.$store.commit("filters/SET_FILTERS",{filters:d,type:"init"});case 32:case"end":return e.stop()}}),e,null,[[9,25]])})))()},getPayload:function(){return this.showRelatedIllustrations?{}:this.formattedParams},replaceUrls:function(){var t=this;"search"===this.filterType&&this.initSearch&&this.currentSearch&&this.initSearch!==this.currentSearch&&this.$nextTick((function(){t.replaceRoute(),t.replaceLinks()}))},replaceRoute:function(){var t=this.initSearch.replace(/ |-/g,"%20"),e=this.removeDash(this.$route.fullPath,t,this.formattedParams.search);window.history.replaceState(e,this.formattedParams.search,e)},removeDash:function(path,t,e){var r="",n=path;return path.indexOf("--")>=0?(r=(r=path.substr(0,path.indexOf("--"))).replace(/ |-/g,"%20").replace(t,e),n=path.substr(path.indexOf("--"))):n=n.replace(/ |-/g,"%20").replace(t,e),"".concat(r).concat(n)},replaceLinks:function(){var t=this,e=document.querySelectorAll("a");e.forEach((function(link){var e=link.getAttribute("href");e=t.removeDash(e,t.initSearch,t.currentSearch),link.setAttribute("href",e)})),e=[].concat(Object(n.a)(document.querySelectorAll("link[rel='alternate']")),Object(n.a)(document.querySelectorAll("link[rel='canonical']")));var r=this;Array.prototype.forEach.call(e,(function(link){var t=link.getAttribute("href");(t=r.removeDash(t,r.initSearch,r.currentSearch))&&link.setAttribute("href",t)}))},sendGoogleAnalytics:function(){if("search"===this.filterType)try{this.$ga.event("Search",this.searched,"ouch"),this.$ga.page("illustrations/search?query=".concat(this.searched,"&category=illustrations"))}catch(t){console.error(t)}}}},ft=ht,gt=(r(1544),Object(O.a)(ft,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"illustrations-page container"},[e("ouch-seo-header",{attrs:{"is-hidden":"","show-search":"",currentCategory:t.currentCategoryPath,filterParams:t.formattedParams,filterType:t.filterType,image:t.image,loadingPage:t.nextPageLoading||t.searchResultsLoading,noResults:t.showRelatedIllustrations,seoTags:t.seoTags,title:t.seoTitle,totalIllustrations:t.total}}),e("div",{staticClass:"content"},[e("aside",{staticClass:"has-filters"},[e("ouch-filters",{attrs:{"all-filters":t.allFilters,"current-filters":t.currentFilters,filters:t.filters,path:t.commonPath,"show-disabled":!t.illustrations.length,update:t.shouldUpdateFilterPosition},on:{"change-path":function(e){t.commonPath=e}}})],1),e("main",[e("ouch-search",{staticClass:"ouch-search",attrs:{category:t.currentCategoryPath,"filter-params":t.formattedParams,image:t.image,title:t.searchTitle}}),e("ouch-applied-filters-as-tags",{attrs:{events:t.events,filters:t.filters,path:t.commonPath},on:{"change-path":function(e){t.commonPath=e}}}),e("ouch-seo-tags-on-mobile",{attrs:{seoTags:t.seoTags}}),t.isExperimentalStyle&&!t.showRelatedIllustrations?e("ouch-sandbox-promo"):t._e(),t.illustrations.length?e("div",{staticClass:"illustration-list"},[e("ouch-illustrations-list",{attrs:{illustrations:t.illustrations,image:t.image,loading:t.searchResultsLoading,total:t.total}}),t.hasPagination?e("ouch-pagination",{attrs:{entity:"illustrations",page:t.page,perPage:t.perPage,loading:t.nextPageLoading,total:t.total},on:{nextPage:t.fetch}}):t._e()],1):t._e(),!t.illustrations.length||t.total>0&&t.illustrations.length>=t.total?e("request-illustration-message",{attrs:{"current-style":t.currentStyle,"has-results":!!t.illustrations.length,search:t.searched}}):t._e(),t.showCrossSearch?e("ouch-cross-search",{attrs:{"is-not-last":!t.illustrations.length&&!t.currentStyle||t.total>0,search:t.searched}}):t._e(),t.illustrations.length||t.currentStyle?t._e():e("ouch-promo"),t.showRelatedIllustrations?e("ouch-related-illustrations",{attrs:{params:t.formattedParams,search:t.searched},on:{change:function(e){t.shouldUpdateFilterPosition++}}}):t._e(),t.total>0&&!this.showRelatedIllustrations?e("ouch-seo-footer",{attrs:{search:t.activeSearch,seoTags:t.seoTags,styles:t.currentStyle,total:t.total}}):t._e()],1)])],1)}),[],!1,null,"036b6ae2",null));e.default=gt.exports}}]);
//# sourceMappingURL=_.680bc79a7395fc14bba8.js.map